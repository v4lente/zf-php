<?php 

// Define o ttulo
$titulo = "Cadastro de Transaes";

// Converte o resultado para array
$resultado = $this->resConsulta->toArray();

// Formatando os campos
foreach($resultado as $indice => $valor) {
    
    $resultado[$indice]["AMB_DESENV"]    = $valor["AMB_DESENV"]    == "ZEND" ? "ZEND"     : "T.POWER"; 
    $resultado[$indice]["FL_LOG_SESSAO"] = $valor["FL_LOG_SESSAO"] == "1"    ? "Sim"      : "No"; 
    $resultado[$indice]["FL_RELATORIO"]  = $valor["FL_RELATORIO"]  == "1"    ? "Sim"      : "No"; 
  
}

// Monta o array com os campos da consulta que sero mostrados no relatrio. -> (Obrigatrio)
// Total 190 mm somando todos os campos para A4 tipo Retrato (P: Portrait)
// ou 277 mm somando todos os campos para A4 tipo Paisagem (L: Landscape)
// No WIDTH colocar a porcentagem de cada campo, mximo 100% de todos os campos juntos.
$campos = array("CD_SISTEMA"    => array("width"=>8,  "text-align"=>"left", "title"=>"Cd. Sistema"),
				"NO_SISTEMA"    => array("width"=>13, "text-align"=>"left", "title"=>"Nome Sistema"),
                "CD_MENU"       => array("width"=>8,  "text-align"=>"left", "title"=>"Cd. Menu"),
                "NO_MENU"       => array("width"=>13, "text-align"=>"left", "title"=>"Nome Menu"),
                "CD_TRANSACAO"  => array("width"=>10,  "text-align"=>"left", "title"=>"Cd. Transao"),
                "NO_TRANSACAO"  => array("width"=>20, "text-align"=>"left", "title"=>"Nome Transao"),
                "AMB_DESENV"    => array("width"=>8,  "text-align"=>"left", "title"=>"Amb. Desenv."),
                "FL_LOG_SESSAO" => array("width"=>7,  "text-align"=>"left", "title"=>"Ger. Log"),
                "FL_RELATORIO"  => array("width"=>7,  "text-align"=>"left", "title"=>" Relatri"),
                "ORD_TRANSACAO" => array("width"=>6,  "text-align"=>"left", "title"=>"Ordem"));

// Chama o view helper que gerar o relatrio
$this->geraRelatorio($resultado, $titulo, $campos, $this->extraParams["_rel_metodo"]);
?>